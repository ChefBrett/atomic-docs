$(".atoms-nav ").sortable({group:".aa_dir ",handle:".aa_dir__dirNameGroup__name",onEnd:function(a){var o=a.item,e=$(o).closest(".aa_dir").data("navitem"),n=[];$(".atoms-nav ").find(".aa_dir").each(function(){n.push({name:"catName[]",value:$(this).data("navitem")})}),$.ajax({type:"POST",url:"atomic-core/temp-processing/temp-nav-cat-sort.php",data:n,dataType:"json",encode:!0}).done(function(a){console.log(a),a.success?(console.log("success"),window.location="atomic-core/?cat="+e):(console.log("not success"),a.errors.name)}).fail(function(){console.log("failed")})}}),$(".aa_fileSection").sortable({group:".aa_fileSection ",filter:".aa_addFileItem",onUpdate:function(a){var o=a.item,e=$(o).data("cat"),n=[];$(".fileSection-"+e).find(".aa_fileSection__file").each(function(){n.push({name:"compName[]",value:$(this).data("comp")})}),n.push({name:"currentCat",value:e}),console.log(n),$.ajax({type:"POST",url:"atomic-core/temp-processing/temp-nav-comp-sort.php",data:n,dataType:"json",encode:!0}).done(function(a){console.log(a),a.success?(console.log("success"),window.location="atomic-core/?cat="+e):(console.log("not success"),a.errors.name)}).fail(function(){console.log("failed")})},onAdd:function(a){var o=a.item,e=$(o).closest(".aa_dir").data("navitem"),n=$(o).data("cat"),c=$(o).data("comp"),t=[];$(".fileSection-"+e).find(".aa_fileSection__file").each(function(){t.push({name:"compName[]",value:$(this).data("comp")})}),t.push({name:"thisCompName",value:c}),t.push({name:"newCat",value:e}),t.push({name:"oldCat",value:n}),$.ajax({type:"POST",url:"atomic-core/temp-processing/temp-nav-compCat-sort.php",data:t,dataType:"json",encode:!0}).done(function(a){console.log(a),a.success?(console.log("success"),window.location="atomic-core/?cat="+e):(console.log("not success"),a.errors.name)}).fail(function(){console.log("failed")})}});