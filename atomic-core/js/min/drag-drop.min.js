$(".atoms-nav ").sortable({group:".aa_dir ",handle:".aa_dir__dirNameGroup__name",onEnd:function(a){var o=a.item,e=($(o).closest(".aa_dir").data("navitem"),[]);$(".atoms-nav ").find(".aa_dir").each(function(){e.push({name:"catName[]",value:$(this).data("navitem")})}),$.ajax({type:"POST",url:"atomic-core/tempForms/temp-nav-cat-sort.php",data:e,dataType:"json",encode:!0}).done(function(a){console.log(a),a.success?console.log("success"):(console.log("not success"),a.errors.name&&($(".aa_errorBox__message").html(""),$(".atoms-main").prepend('<div class="aa_errorBox"><p class="aa_errorBox__message"><i class="fa fa-times aa_js-errorBox__close"></i> '+a.errors.name+"</p></div>").find(".aa_errorBox").hide().fadeIn(200)))}).fail(function(){console.log("failed")})}}),$(".aa_fileSection").sortable({group:".aa_fileSection ",filter:".aa_addFileItem",onStart:function(a){var o=a.item,e=$(o).data("component"),n=$(o).data("category");console.log("Component name: "+e),console.log("Current category: "+n)},onAdd:function(a){var o=a.item,e=$(o).closest(".aa_dir").data("navitem");console.log("New category: "+e)},onEnd:function(a){var o=a.oldIndex,e=a.newIndex;console.log("Old position: "+o),console.log("New position: "+e)}});